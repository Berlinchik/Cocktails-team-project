{"mappings":"sgBAAA,IAAAA,EAAAC,EAAA,S,0BAOA,MAAMC,EAAiBC,SAASC,cAAc,0BACxCC,EAAyBF,SAASC,cACtC,gCAEIE,EAAYH,SAASC,cAAc,iCACnCG,EAAgBJ,SAASC,cAAc,kBAEvCI,EAAUL,SAASC,cAAc,QAEhC,SAASK,IACdP,EAAeQ,UAAUC,OAAO,aAChCH,EAAQE,UAAUC,OAAO,uB,CAG3BN,EAAuBO,iBAAiB,QAASH,GACjDP,EAAeU,iBAAiB,SAASC,IACvC,GAAIA,EAAEC,SAAWZ,EAOf,OANIW,EAAEC,OAAOJ,UAAUK,SAAS,qBAC9B,EAAAf,EAAAgB,2BAA0BH,QAExBA,EAAEC,OAAOJ,UAAUK,SAAS,0BAC9B,EAAAf,EAAAiB,gCAA+BJ,IAInCJ,GAAa,IA0HfF,EAAcK,iBAAiB,SAhBxBM,eAAkCL,GACvC,GAAIA,EAAEC,OAAOJ,UAAUK,SAAS,6BAA8B,CAC5D,MAAMI,EAASN,EAAEC,OAAOM,WAAWC,QAAQC,QAC3CnB,SAASC,cAAc,oBAAoBiB,QAAQC,QAAUH,GA1G1DD,eAA+BK,GACpC,MAAMC,EAAQD,EAAKE,OAAO,GAEpBC,EAAaC,aAAaC,QAAQ,YAElCC,EAAS,GACf,IAAIC,EA0BAC,EAxBJ,IAAK,IAAIC,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,MAAMC,EAAaT,EAAM,gBAAgBQ,KACzC,IAAIE,EAAUV,EAAM,aAAaQ,KAC7BC,IACGC,IACHA,EAAU,IAEO,SAAfR,EACFG,EAAOM,KACL,oEAAoEF,iHAC6BC,KAAWD,wBAI9GJ,EAAOM,KACL,oEAAoEF,wEACZC,KAAWD,wBAIvEH,EAAWD,EAAOO,KAAK,I,CAMR,SAAfV,GACFK,EAAS,yCAAyCP,EAAMa,2NAIhDb,EAAMc,gEAGAd,EAAMe,uBAAuBf,EAAMgB,ySAKzCV,iCAGR5B,EAAeuC,kBAAkB/B,UAAUgC,IAAI,eAE/CX,EAAS,8BAA8BP,EAAMa,0LAIrCb,EAAMc,gEAGAd,EAAMe,uBAAuBf,EAAMgB,mRAKzCV,iCAGR5B,EAAeuC,kBAAkB/B,UAAUiC,OAAO,cAG9BC,KAAKC,MAAMlB,aAAaC,QAAQ,iBACfkB,kBAAkBC,KAAIC,GACpDA,EAAG1B,UAES2B,SAASC,OAAO1B,EAAMF,WACzCnB,SACGC,cAAc,6BACdM,UAAUiC,OAAO,mBACpBxC,SACGC,cAAc,6BACdM,UAAUgC,IAAI,wBACjBvC,SAASC,cAAc,6BAA6B+C,UAClD,yBAEFhD,SACGC,cAAc,6BACdM,UAAUgC,IAAI,mBACjBvC,SACGC,cAAc,6BACdM,UAAUiC,OAAO,wBACpBxC,SAASC,cAAc,6BAA6B+C,UAClD,mBAGJ7C,EAAU8C,UAAYrB,EAEO5B,SAASC,cACpC,8BAGmBQ,iBAAiB,QAASyC,EAAAC,qB,CAQ7CC,OAD2B,EAAAC,EAAAC,gBAAetC,IAE1CV,G,CAEEI,EAAEC,OAAOJ,UAAUK,SAAS,2BAC9B,EAAAf,EAAAgB,2BAA0BH,GAExBA,EAAEC,OAAOJ,UAAUK,SAAS,2BAC9B,EAAAf,EAAAiB,gCAA+BJ,E","sources":["src/js/cocktails-modal-logic.js"],"sourcesContent":["import {\n  addCocktailToLocalStorage,\n  removeCocktailFromLocalStorage,\n} from './add-to-remove-localstorage';\nimport { fetchDrinkById } from './fetchFunction';\nimport { openIngredientsModal } from './modal-ingredients';\n\nconst cocktailsModal = document.querySelector('[data-cocktails-modal]');\nconst closeCocktailsModalBtn = document.querySelector(\n  '[data-cocktails-modal-close]'\n);\nconst drinkInfo = document.querySelector('.cocktails-modal-content-wrap');\nconst cocktailsList = document.querySelector('.cocktail-list');\n\nconst docBody = document.querySelector('body');\n\nexport function toggleModal() {\n  cocktailsModal.classList.toggle('is-hidden');\n  docBody.classList.toggle('modal-cocktails-open');\n}\n\ncloseCocktailsModalBtn.addEventListener('click', toggleModal);\ncocktailsModal.addEventListener('click', e => {\n  if (e.target !== cocktailsModal) {\n    if (e.target.classList.contains('add-to-favorite')) {\n      addCocktailToLocalStorage(e);\n    }\n    if (e.target.classList.contains('remove-from-favorite')) {\n      removeCocktailFromLocalStorage(e);\n    }\n    return;\n  }\n  toggleModal();\n});\n\nexport async function renderDrinkInfo(data) {\n  const drink = data.drinks[0];\n\n  const savedTheme = localStorage.getItem('ui-theme');\n\n  const ingArr = [];\n  let liMarkup;\n\n  for (let i = 1; i < 16; i++) {\n    const ingredient = drink[`strIngredient${i}`];\n    let measure = drink[`strMeasure${i}`];\n    if (ingredient) {\n      if (!measure) {\n        measure = '';\n      }\n      if (savedTheme === 'dark') {\n        ingArr.push(\n          `<li class=\"cocktail-ingredients-list-item\" data-ingredient-name='${ingredient}'>\n          <p class=\"js-ingredients-modal dark-theme-light-grey\"><span class=\"dark-theme\">&#10038;</span> ${measure} ${ingredient}</p>\n        </li>`\n        );\n      } else {\n        ingArr.push(\n          `<li class=\"cocktail-ingredients-list-item\" data-ingredient-name='${ingredient}'>\n          <p class=\"js-ingredients-modal\"><span>&#10038;</span> ${measure} ${ingredient}</p>\n        </li>`\n        );\n      }\n      liMarkup = ingArr.join('');\n    }\n  }\n\n  let markup;\n\n  if (savedTheme === 'dark') {\n    markup = `<h2 class=\"cocktail-title dark-theme\">${drink.strDrink}</h2>\n      <div class=\"cocktail-description\">\n        <h3 class=\"cocktail-description__title dark-theme\">Instructions:</h3>\n        <p class=\"cocktail-description__text dark-theme-light-grey\">\n          ${drink.strInstructions}\n        </p>\n      </div>\n      <img src=\"${drink.strDrinkThumb}\" alt=\"${drink.strCategory}\" class=\"cocktail-image\" />\n      <div class=\"cocktail-ingredients\">\n        <h3 class=\"cocktail-ingredients__title dark-theme\">Ingredients</h3>\n        <p class=\"cocktail-ingredients__remark dark-theme\">Per cocktail</p>\n        <ul class=\"cocktail-ingredients-list\">\n          ${liMarkup}\n        </ul>\n      </div>`;\n    cocktailsModal.firstElementChild.classList.add('dark-size');\n  } else {\n    markup = `<h2 class=\"cocktail-title\">${drink.strDrink}</h2>\n      <div class=\"cocktail-description\">\n        <h3 class=\"cocktail-description__title\">Instructions:</h3>\n        <p class=\"cocktail-description__text\">\n          ${drink.strInstructions}\n        </p>\n      </div>\n      <img src=\"${drink.strDrinkThumb}\" alt=\"${drink.strCategory}\" class=\"cocktail-image\" />\n      <div class=\"cocktail-ingredients\">\n        <h3 class=\"cocktail-ingredients__title\">Ingredients</h3>\n        <p class=\"cocktail-ingredients__remark\">Per cocktail</p>\n        <ul class=\"cocktail-ingredients-list\">\n          ${liMarkup}\n        </ul>\n      </div>`;\n    cocktailsModal.firstElementChild.classList.remove('dark-size');\n  }\n\n  const localFavorite = JSON.parse(localStorage.getItem('favoriteList'));\n  const favoriteCocktail = localFavorite.favoriteCocktails.map(el => {\n    return el.idDrink;\n  });\n  if (favoriteCocktail.includes(Number(drink.idDrink))) {\n    document\n      .querySelector('.cocktails-modal-favorite')\n      .classList.remove('add-to-favorite');\n    document\n      .querySelector('.cocktails-modal-favorite')\n      .classList.add('remove-from-favorite');\n    document.querySelector('.cocktails-modal-favorite').innerText =\n      'Remove from favorite';\n  } else {\n    document\n      .querySelector('.cocktails-modal-favorite')\n      .classList.add('add-to-favorite');\n    document\n      .querySelector('.cocktails-modal-favorite')\n      .classList.remove('remove-from-favorite');\n    document.querySelector('.cocktails-modal-favorite').innerText =\n      'Add to favorite';\n  }\n\n  drinkInfo.innerHTML = markup;\n\n  const modalIngredientsList = document.querySelector(\n    '.cocktail-ingredients-list'\n  );\n\n  modalIngredientsList.addEventListener('click', openIngredientsModal);\n}\n\nexport async function openCocktailsModal(e) {\n  if (e.target.classList.contains('cocktail-item__learn-more')) {\n    const elemId = e.target.parentNode.dataset.idDrink;\n    document.querySelector('.cocktails-modal').dataset.idDrink = elemId;\n    const foundedDrink = await fetchDrinkById(elemId);\n    renderDrinkInfo(foundedDrink);\n    toggleModal();\n  }\n  if (e.target.classList.contains('cocktail-item__add-to')) {\n    addCocktailToLocalStorage(e);\n  }\n  if (e.target.classList.contains('cocktail-item__remove')) {\n    removeCocktailFromLocalStorage(e);\n  }\n}\n\ncocktailsList.addEventListener('click', openCocktailsModal);\n"],"names":["$1v8zF","parcelRequire","$d3eb011dd81ba7fe$var$cocktailsModal","document","querySelector","$d3eb011dd81ba7fe$var$closeCocktailsModalBtn","$d3eb011dd81ba7fe$var$drinkInfo","$d3eb011dd81ba7fe$var$cocktailsList","$d3eb011dd81ba7fe$var$docBody","$d3eb011dd81ba7fe$export$313c6d35f75fc0e","classList","toggle","addEventListener","e","target","contains","addCocktailToLocalStorage","removeCocktailFromLocalStorage","async","elemId","parentNode","dataset","idDrink","data","drink","drinks","savedTheme","localStorage","getItem","ingArr","liMarkup","markup","i","ingredient","measure","push","join","strDrink","strInstructions","strDrinkThumb","strCategory","firstElementChild","add","remove","JSON","parse","favoriteCocktails","map","el","includes","Number","innerText","innerHTML","$aJrzc","openIngredientsModal","$d3eb011dd81ba7fe$export$c12d30439a36aa6","$bfh0X","fetchDrinkById"],"version":3,"file":"index.4cd6cbad.js.map"}